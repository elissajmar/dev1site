<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Toggle Mode</title>

        <link id="mode" rel="stylesheet" href="lightmode.css" />
    </head>
    <body>

        <div class="toggle"> <p>Toggle</p> </div>

        <p> hello this is some text </p>
        
        <script>
            
            //localStorage.clear() //clear to test
            toggle = document.querySelector(".toggle");
            //localStorage.setItem("mode", "light"); //sets local storage mode to light by default
        
            toggle.addEventListener("click", ()=> {
                let getMode = localStorage.getItem("mode");

                if (!getMode) {
                    localStorage.setItem("mode", "dark");
                    document.getElementById("mode").setAttribute("href", "darkmode.css");  //change to dark mode
                }
                
                if(getMode && getMode == "dark") { //if dark mode is selected 
                    document.getElementById("mode").setAttribute("href", "lightmode.css");  //change to light mode
                    localStorage.setItem("mode", "light") //set mode to light in localStorage
                }

                else if (getMode && getMode == "light"){ //if light mode is selected 
                    document.getElementById("mode").setAttribute("href", "darkmode.css");  //change to dark mode
                    localStorage.setItem("mode", "dark") //set mode to dark in localStorage
                }
            });
            
            /* const body = document.querySelector("body"),
            toggle = document.querySelector(".toggle");

            let getMode = localStorage.getItem("mode");
            if(getMode && getMode === "dark") {
                body.classList.add("dark");
                toggle.classList.add("active")
            }
            console.log(getMode);

            toggle.addEventListener("click", ()=> {
                body.classList.toggle("dark");

                if(!body.classList.contains("dark")){
                    return localStorage.setItem("mode", "light");
                }
                localStorage.setItem("mode", "dark")
            });

            toggle.addEventListener("click", () => toggle.classList.toggle("active")); */

        </script>
    </body>
</html>